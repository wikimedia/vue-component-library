# Codex docs

## Dev site

In the root of the Codex monorepo, run:

```
npm run docs
```

This will both serve the VitePress site locally at http://localhost:3000 and
compile component usage docs.

## Writing docs

### General docs

General docs are located in the `docs/` directory. `docs/index.md` is the
landing page of the static site, and other docs are organized into folders.

Docs are written in Markdown, see the [VitePress docs](https://vitepress.vuejs.org/guide/markdown.html)
for details.

### Component pages

The markdown files located in `docs/components/` are automatically generated by
`vue-docgen-cli`. To set up a page for a new component, add a new directory
inside `component-demos/` and a markdown file: both the directory name and the
filename should exactly match the machine name of the component.

Add component demos to this markdown file. `vue-docgen-cli` is configured to
grab the demo file, add some things that are pulled from the component Vue code
(page title, description, meta info, usage docs, etc.), and place the generated
file in `docs/components/`.

#### Importing components

You can import components directly from the `vue-components` package:

```
<script setup>
import { CdxButton } from 'vue-components';
</script>
```

#### Formatting component demos

A `Wrapper` component is available in all markdown files that provides some
formatting for components demos and show code/hide code functionality. To use
it, place the demo code inside the `demo` slot, and the code sample inside the
`code` slot. The code can either be a markdown code block or an imported code
snippet.

**Note that the newlines before and after the code sample are critical.**

Example using a markdown code block:

```
<Wrapper>
<template v-slot:demo>
<CdxButton type="quiet">Click me</CdxButton>
</template>

<template v-slot:code>

```vue
<CdxButton>Click me</CdxButton>
```

</template>
</Wrapper>
```

Example using an imported code snippet:

```
<Wrapper>
<template v-slot:demo>
<RadioGroup />
</template>

<template v-slot:code>

<<< @/../../component-demos/radio/examples/RadioGroup.vue

</template>
</Wrapper>
```

## Updating the sidebar

The sidebar is configured in docs/.vitepress/config.js.